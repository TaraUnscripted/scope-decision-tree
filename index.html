<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bug Classification Decision Tree - NEO Process</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f7fa;
            line-height: 1.6;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 20px;
            font-style: italic;
        }
        .key-principle {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px 20px;
            margin-bottom: 30px;
            border-radius: 4px;
            text-align: center;
            font-weight: 600;
            color: #1976d2;
        }
        .decision-tree {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        .decision-node {
            background: #f8f9fa;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            padding: 20px;
            position: relative;
            transition: all 0.3s ease;
        }
        .decision-node:hover {
            border-color: #3498db;
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.15);
        }
        .question {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
        }
        .question-detail {
            font-size: 14px;
            color: #7f8c8d;
            margin-bottom: 20px;
            font-style: italic;
        }
        .options {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }
        .option {
            flex: 1;
            min-width: 250px;
            background: white;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .option:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .option.yes {
            border-left: 4px solid #27ae60;
        }
        .option.no {
            border-left: 4px solid #e74c3c;
        }
        .option.maybe {
            border-left: 4px solid #f39c12;
        }
        .option-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: #2c3e50;
        }
        .option-description {
            font-size: 14px;
            color: #7f8c8d;
        }
        .result {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 8px;
            text-align: center;
            margin-top: 20px;
            display: none;
        }
        .result.show {
            display: block;
            animation: slideIn 0.5s ease;
        }
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .result-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 10px;
        }
        .result-action {
            font-size: 18px;
            margin-top: 15px;
            padding: 10px 20px;
            background: rgba(255,255,255,0.2);
            border-radius: 5px;
            display: inline-block;
        }
        .result-note {
            font-size: 14px;
            margin-top: 15px;
            opacity: 0.9;
            font-style: italic;
        }
        .result.bug {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        }
        .result.sub-bug {
            background: linear-gradient(135deg, #e67e22 0%, #d35400 100%);
        }
        .result.sub-task {
            background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
        }
        .result.new-story {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
        }
        .result.convert {
            background: linear-gradient(135deg, #f39c12 0%, #f1c40f 100%);
        }
        .legend {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: #f8f9fa;
            border-radius: 20px;
            font-size: 14px;
        }
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }
        .reset-button {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            margin: 20px auto;
            display: block;
            transition: background 0.3s ease;
        }
        .reset-button:hover {
            background: #2980b9;
        }
        .hidden {
            display: none;
        }
        .examples {
            background: #f8f9fa;
            border: 1px solid #e1e8ed;
            border-radius: 6px;
            padding: 15px;
            margin-top: 15px;
            font-size: 14px;
        }
        .examples strong {
            color: #2c3e50;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>NEO Bug Classification Decision Tree</h1>
        <p class="subtitle">Based on Rebecca's guidance - Follow the questions to properly classify issues</p>
        
        <div class="key-principle">
            üìå Key Principle: "Sub-bugs should only be opened for things that are preventing a story from passing QA/PO Review"
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background: #e74c3c;"></div>
                <span>Bug (Standalone)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #e67e22;"></div>
                <span>Sub-bug</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #9b59b6;"></div>
                <span>Sub-task</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #3498db;"></div>
                <span>New Story</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #f39c12;"></div>
                <span>Convert Issues</span>
            </div>
        </div>

        <div class="decision-tree" id="decisionTree">
            <!-- Question 1 -->
            <div class="decision-node" id="q1">
                <div class="question">1. Is something actually broken/malfunctioning?</div>
                <div class="question-detail">Not missing features or new requirements - is existing functionality failing?</div>
                <div class="options">
                    <div class="option yes" onclick="answer('q1', 'yes')">
                        <div class="option-title">Yes - It's Broken</div>
                        <div class="option-description">Built functionality not working as documented, errors, crashes, incorrect behavior</div>
                    </div>
                    <div class="option no" onclick="answer('q1', 'no')">
                        <div class="option-title">No - It's Missing/New</div>
                        <div class="option-description">Feature not built yet, new requirement discovered, scope change</div>
                    </div>
                </div>
            </div>

            <!-- Question 2 - For broken functionality -->
            <div class="decision-node hidden" id="q2">
                <div class="question">2. What is the current status of the parent story?</div>
                <div class="question-detail">Check where the story currently sits in the workflow</div>
                <div class="options">
                    <div class="option yes" onclick="answer('q2', 'active')">
                        <div class="option-title">In Active Sprint</div>
                        <div class="option-description">Story is in development, verification, or PO review this sprint</div>
                    </div>
                    <div class="option no" onclick="answer('q2', 'complete')">
                        <div class="option-title">Already Complete</div>
                        <div class="option-description">Story passed QA & PO review, or found in production</div>
                    </div>
                    <div class="option maybe" onclick="answer('q2', 'backlog')">
                        <div class="option-title">In/Moved to Backlog</div>
                        <div class="option-description">Story was descoped or moved back to backlog</div>
                    </div>
                </div>
            </div>

            <!-- Question 3 - For missing/new functionality -->
            <div class="decision-node hidden" id="q3">
                <div class="question">3. What type of missing/new work is this?</div>
                <div class="question-detail">Determine the appropriate classification for non-bug work</div>
                <div class="options">
                    <div class="option yes" onclick="answer('q3', 'missed-ac')">
                        <div class="option-title">Missed AC (No Defect)</div>
                        <div class="option-description">QA found missing acceptance criteria, but what was built works correctly</div>
                    </div>
                    <div class="option no" onclick="answer('q3', 'new-scope')">
                        <div class="option-title">New/Descoped Work</div>
                        <div class="option-description">New requirements, descoped features, or "realized we need Y"</div>
                    </div>
                </div>
            </div>

            <!-- Question 4 - For active sprint stories -->
            <div class="decision-node hidden" id="q4">
                <div class="question">4. Is this preventing the story from passing QA/PO review?</div>
                <div class="question-detail">The critical question for sub-bug classification</div>
                <div class="options">
                    <div class="option yes" onclick="answer('q4', 'yes')">
                        <div class="option-title">Yes - Blocking</div>
                        <div class="option-description">Story cannot be marked complete until this is fixed</div>
                    </div>
                    <div class="option no" onclick="answer('q4', 'no')">
                        <div class="option-title">No - Not Blocking</div>
                        <div class="option-description">Minor issue that doesn't prevent story completion</div>
                    </div>
                </div>
            </div>

            <!-- Results -->
            <div class="result hidden" id="result"></div>
        </div>

        <button class="reset-button hidden" id="resetButton" onclick="reset()">Start Over</button>
    </div>

    <script>
        let answers = {};

        function answer(questionId, value) {
            answers[questionId] = value;
            
            // Hide current question
            document.getElementById(questionId).style.display = 'none';
            
            // Determine next step
            if (questionId === 'q1') {
                if (value === 'yes') {
                    // It's broken - check story status
                    showQuestion('q2');
                } else {
                    // It's missing/new - determine type
                    showQuestion('q3');
                }
            } else if (questionId === 'q2') {
                if (value === 'active') {
                    // Story in active sprint - check if blocking
                    showQuestion('q4');
                } else if (value === 'complete') {
                    // Story complete - standalone bug
                    showResult('bug', 'This is a BUG (Standalone)', 
                        'üìã Create as Bug issue type<br>üìé Link to original story<br>üéØ Prioritize based on severity',
                        'Story already passed QA/PO review - cannot create sub-bugs on completed work');
                } else {
                    // Story in backlog
                    showResult('convert', 'Convert Sub-bugs to Bugs', 
                        'üîÑ Convert any existing sub-bugs to standalone Bugs<br>üìé Update links (remove parent-child)<br>üéØ Schedule independently',
                        'Story no longer in active development - sub-bugs must be converted');
                }
            } else if (questionId === 'q3') {
                if (value === 'missed-ac') {
                    // Missed AC without defect
                    showResult('sub-task', 'This is a SUB-TASK', 
                        '‚úÖ Create as Sub-task (not sub-bug)<br>üìù "Dev missed AC item X"<br>üîß Complete before story closes',
                        'Everything built works correctly - this is just incomplete work, not a defect');
                } else {
                    // New scope
                    showResult('new-story', 'This is a NEW STORY', 
                        'üìÑ Create new Story in backlog<br>‚úçÔ∏è Write clear acceptance criteria<br>üéØ Prioritize appropriately',
                        'New requirements or descoped work should never be bugs');
                }
            } else if (questionId === 'q4') {
                if (value === 'yes') {
                    // Blocking story completion
                    showResult('sub-bug', 'This is a SUB-BUG', 
                        'üêõ Create as Sub-bug under the story<br>üö´ Story cannot pass until fixed<br>‚ö° Work in current sprint',
                        'Issue is preventing story from passing QA/PO review');
                } else {
                    // Not blocking
                    showResult('bug', 'This is a BUG (Standalone)', 
                        'üìã Create as Bug issue type<br>üìé Link to story<br>üéØ Can be deferred if needed',
                        'Minor issue not preventing story completion - use standalone bug for flexibility');
                }
            }
        }

        function showQuestion(questionId) {
            document.getElementById(questionId).classList.remove('hidden');
        }

        function showResult(type, title, action, note) {
            const resultDiv = document.getElementById('result');
            resultDiv.className = `result ${type} show`;
            resultDiv.innerHTML = `
                <div class="result-title">${title}</div>
                <div class="result-action">${action}</div>
                ${note ? `<div class="result-note">${note}</div>` : ''}
                ${getExamples(type)}
            `;
            document.getElementById('resetButton').classList.remove('hidden');
        }

        function getExamples(type) {
            const examples = {
                'bug': `
                    <div class="examples">
                        <strong>Examples:</strong><br>
                        ‚Ä¢ Customer reported issue in production<br>
                        ‚Ä¢ Regression found during testing<br>
                        ‚Ä¢ Issue found after story was closed last sprint
                    </div>
                `,
                'sub-bug': `
                    <div class="examples">
                        <strong>Examples:</strong><br>
                        ‚Ä¢ QA finds button doesn't work as specified<br>
                        ‚Ä¢ PO review shows data displaying incorrectly<br>
                        ‚Ä¢ Acceptance criteria met but functionality broken
                    </div>
                `,
                'sub-task': `
                    <div class="examples">
                        <strong>Examples:</strong><br>
                        ‚Ä¢ "You built A and B correctly, but forgot C from the AC"<br>
                        ‚Ä¢ Missing validation that was in requirements<br>
                        ‚Ä¢ Incomplete implementation (no defects in what was built)
                    </div>
                `,
                'new-story': `
                    <div class="examples">
                        <strong>Examples:</strong><br>
                        ‚Ä¢ "While testing X, we realized we need Y"<br>
                        ‚Ä¢ Features that were descoped from original story<br>
                        ‚Ä¢ PO wants additional functionality after seeing demo
                    </div>
                `,
                'convert': `
                    <div class="examples">
                        <strong>Examples:</strong><br>
                        ‚Ä¢ Sprint ended, story moved to next sprint<br>
                        ‚Ä¢ Story descoped mid-sprint due to priority change<br>
                        ‚Ä¢ Story blocked and moved back to backlog
                    </div>
                `
            };
            return examples[type] || '';
        }

        function reset() {
            // Refresh the page to start over
            window.location.reload();
        }
    </script>
</body>
</html>
